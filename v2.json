{
  "openapi": "3.0.3",
  "info": {
    "title": "StatsV2 API",
    "description": "Financial statistics calculation API supporting multiple asset types and time periods. See [Performance Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#performance-considerations) for optimization tips and response time expectations.",
    "version": "2.0.0",
    "contact": {
      "name": "Investors FastTrack",
      "url": "https://fasttrack.net/api",
      "email": "api@fasttrack.net"
    },
    "termsOfService": "https://fasttrack.net/api"
  },
  "paths": {
    "/auth": {
      "post": {
        "summary": "Login",
        "description": "Accepts credentials and returns an access_token, id_token, refresh_token, and metadata. Send the id_token (or access_token) as `Authorization: Bearer <token>` when calling protected APIs.",
        "operationId": "auth_login",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthRequest"
              },
              "examples": {
                "login": {
                  "value": {
                    "username": "user@example.com",
                    "password": "hunter2"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tokens issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "id_token": "eyJraWQiOiJ...id.jwt...",
                      "refresh_token": "eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIi...",
                      "expires_in": 3600,
                      "token_type": "Bearer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "summary": "Refresh tokens",
        "description": "Accepts a refresh_token and returns a new access_token and id_token. A new refresh_token may also be returned depending on server policy.",
        "operationId": "auth_refresh",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              },
              "examples": {
                "refresh": {
                  "value": {
                    "refresh_token": "eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIi..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "New tokens issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "id_token": "eyJraWQiOiJ...id.jwt...",
                      "refresh_token": "eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIi...",
                      "expires_in": 3600,
                      "token_type": "Bearer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Expired/invalid refresh token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Authentication"
        ]
      }
    },
    "/stats": {
      "post": {
        "summary": "Calculate stats",
        "description": "Calculate comprehensive financial statistics for multiple assets as of a specific date with lookback periods. Returns statistics organized by time period (e.g., '1y', '3m') with shared current pricing data. See [Response Structure Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#response-structure-differences) for details.",
        "operationId": "calculateStatsSnapshot",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatsV2Request"
              },
              "examples": {
                "Simple Tickers": {
                  "value": {
                    "assets": [
                      "AAPL",
                      "MSFT",
                      "VTI"
                    ],
                    "time_periods": [
                      "1m",
                      "3m",
                      "1y",
                      "3y"
                    ],
                    "include": [
                      "security_info"
                    ]
                  }
                },
                "Static Portfolio": {
                  "value": {
                    "assets": [
                      {
                        "type": "static",
                        "name": "Conservative 60/40",
                        "ticker": "CONS_6040",
                        "holdings": [
                          {
                            "ticker": "VTI",
                            "weight": 60
                          },
                          {
                            "ticker": "BND",
                            "weight": 40
                          }
                        ],
                        "rebalance": "quarter",
                        "start": "2020-01-01",
                        "seed": 100000
                      }
                    ],
                    "time_periods": [
                      "1y",
                      "3y"
                    ],
                    "include": [
                      "security_info"
                    ]
                  }
                },
                "Dynamic Portfolio": {
                  "value": {
                    "assets": [
                      {
                        "type": "dynamic",
                        "name": "Risk On/Off Strategy",
                        "ticker": "RISK_TACTICAL",
                        "seed": 75000,
                        "models": [
                          {
                            "start": "2020-01-01",
                            "rebalance": "month",
                            "holdings": [
                              {
                                "ticker": "QQQ",
                                "weight": 80
                              },
                              {
                                "ticker": "TLT",
                                "weight": 20
                              }
                            ]
                          },
                          {
                            "start": "2022-01-01",
                            "rebalance": "quarter",
                            "holdings": [
                              {
                                "ticker": "VTI",
                                "weight": 60
                              },
                              {
                                "ticker": "BND",
                                "weight": 30
                              },
                              {
                                "ticker": "GLD",
                                "weight": 10
                              }
                            ]
                          }
                        ]
                      }
                    ],
                    "time_periods": [
                      "3y",
                      "5y"
                    ],
                    "include": [
                      "drawdown_analysis",
                      "position_details"
                    ]
                  }
                },
                "Momentum Strategy": {
                  "value": {
                    "assets": [
                      {
                        "type": "momentum",
                        "name": "Top 5 Tech Momentum",
                        "ticker": "TECH_MOM_5",
                        "seed": 50000,
                        "start": "2021-01-01",
                        "rebalance": "month",
                        "model": {
                          "universe": [
                            "AAPL",
                            "MSFT",
                            "GOOGL",
                            "AMZN",
                            "TSLA"
                          ],
                          "number_holdings": "5",
                          "ranking_system": {
                            "type": "return",
                            "parameters": {
                              "lookback_period": "quarter"
                            }
                          }
                        }
                      }
                    ],
                    "time_periods": [
                      "1y",
                      "3y"
                    ],
                    "include": [
                      "drawdown_analysis",
                      "position_details"
                    ]
                  }
                },
                "Custom Data": {
                  "value": {
                    "assets": [
                      {
                        "type": "fnu",
                        "name": "Custom Strategy",
                        "data": {
                          "ticker": "CUSTOM_001",
                          "prices": [
                            100,
                            102,
                            98,
                            105,
                            110,
                            108,
                            115,
                            112,
                            118,
                            120
                          ]
                        }
                      }
                    ],
                    "time_periods": [
                      "inception"
                    ],
                    "include": [
                      "security_info"
                    ]
                  }
                },
                "Mixed Types": {
                  "value": {
                    "assets": [
                      "AAPL",
                      {
                        "type": "static",
                        "name": "60/40 Portfolio",
                        "holdings": [
                          {
                            "ticker": "VTI",
                            "weight": 60
                          },
                          {
                            "ticker": "BND",
                            "weight": 40
                          }
                        ],
                        "rebalance": "quarter"
                      }
                    ],
                    "time_periods": [
                      "1m",
                      "3m",
                      "1y"
                    ],
                    "benchmark": "SPY",
                    "include": [
                      "drawdown_analysis",
                      "security_info"
                    ]
                  }
                },
                "Custom Periods Analysis": {
                  "summary": "Analyze specific market events and custom date ranges",
                  "value": {
                    "assets": [
                      "SPY",
                      "QQQ",
                      "TLT"
                    ],
                    "time_periods": [
                      "1y",
                      {
                        "custom": {
                          "label": "covid_crash",
                          "from": "2020-02-19",
                          "to": "2020-03-23"
                        }
                      },
                      {
                        "custom": {
                          "label": "recovery_period",
                          "from": "2020-03-23",
                          "to": "2020-08-18"
                        }
                      },
                      {
                        "custom": {
                          "label": "post_election",
                          "from": "2020-11-04"
                        }
                      }
                    ],
                    "include": [
                      "drawdown_analysis",
                      "security_info"
                    ],
                    "as_of": "2024-07-29"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful calculation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsV2Response"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "y2doii4obdzxf"
        },
        "tags": [
          "Returns & Statistics"
        ]
      },
      "parameters": []
    },
    "/stats/historical": {
      "post": {
        "summary": "Historical stats",
        "description": "Calculate financial statistics for discrete time periods (yearly, quarterly, monthly)",
        "operationId": "calculateStatsHistorical",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatsV2HistoricalRequest"
              },
              "examples": {
                "Simple Historical": {
                  "summary": "Basic yearly statistics",
                  "value": {
                    "assets": [
                      "AAPL",
                      "MSFT"
                    ],
                    "rollups": [
                      "year"
                    ],
                    "years": [
                      "2022",
                      "2023",
                      "2024"
                    ]
                  }
                },
                "Quarterly Analysis": {
                  "summary": "Quarterly breakdown with drawdown analysis",
                  "value": {
                    "assets": [
                      "SPY"
                    ],
                    "rollups": [
                      "quarter"
                    ],
                    "years": [
                      "2023",
                      "2024"
                    ],
                    "include": [
                      "drawdown_analysis",
                      "security_info"
                    ]
                  }
                },
                "Portfolio Historical": {
                  "summary": "Static portfolio over multiple years",
                  "value": {
                    "assets": [
                      {
                        "type": "static",
                        "name": "Conservative Portfolio",
                        "holdings": [
                          {
                            "ticker": "VTI",
                            "weight": 60
                          },
                          {
                            "ticker": "BND",
                            "weight": 40
                          }
                        ],
                        "rebalance": "quarter",
                        "start": "2020-01-01"
                      }
                    ],
                    "rollups": [
                      "year",
                      "quarter"
                    ],
                    "years": [
                      "2022",
                      "2023",
                      "2024"
                    ],
                    "benchmark": "SPY"
                  }
                },
                "Monthly Deep Dive": {
                  "summary": "Monthly statistics with all optional data",
                  "value": {
                    "assets": [
                      "AAPL"
                    ],
                    "rollups": [
                      "month"
                    ],
                    "years": [
                      "2024"
                    ],
                    "include": [
                      "drawdown_analysis",
                      "moving_averages",
                      "volume_data",
                      "security_info"
                    ],
                    "advanced": {
                      "correlation_period": 21,
                      "moving_average_periods": [
                        20,
                        50,
                        200
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful calculation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsV2HistoricalResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "2ljqkj76ccadf"
        },
        "tags": [
          "Returns & Statistics"
        ]
      },
      "parameters": []
    },
    "/data": {
      "post": {
        "summary": "Get data",
        "description": "Extract raw financial data (prices, volumes, OHLV, dividends) for multiple assets with date range support",
        "operationId": "getFinancialData",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DataV2Request"
              },
              "examples": {
                "Simple Prices": {
                  "value": {
                    "assets": [
                      "AAPL",
                      "MSFT",
                      "GOOGL"
                    ],
                    "include": [
                      "prices"
                    ],
                    "start_date": "2024-01-01",
                    "end_date": "2024-07-29"
                  }
                },
                "OHLV Data": {
                  "value": {
                    "assets": [
                      "AAPL"
                    ],
                    "include": [
                      "prices",
                      "ohlv",
                      "volumes"
                    ],
                    "start_date": "2024-06-01",
                    "end_date": "2024-07-29",
                    "options": {
                      "unadjusted": true,
                      "semi_adjusted": true
                    }
                  }
                },
                "Portfolio Data": {
                  "value": {
                    "assets": [
                      {
                        "type": "static",
                        "name": "60/40 Portfolio",
                        "holdings": [
                          {
                            "ticker": "VTI",
                            "weight": 60
                          },
                          {
                            "ticker": "BND",
                            "weight": 40
                          }
                        ],
                        "rebalance": "quarter"
                      }
                    ],
                    "include": [
                      "prices",
                      "dividends",
                      "info"
                    ],
                    "start_date": "2024-01-01"
                  }
                },
                "Frequency Examples": {
                  "summary": "Different frequency comparisons",
                  "value": {
                    "assets": [
                      "AAPL"
                    ],
                    "include": [
                      "prices"
                    ],
                    "start_date": "2024-01-01",
                    "end_date": "2024-03-31",
                    "frequency": "monthly"
                  }
                },
                "Complete Data Extract": {
                  "summary": "All available data types",
                  "value": {
                    "assets": [
                      "AAPL"
                    ],
                    "include": [
                      "prices",
                      "volumes",
                      "ohlv",
                      "dividends",
                      "info",
                      "yield"
                    ],
                    "start_date": "2024-01-01",
                    "end_date": "2024-07-29",
                    "options": {
                      "unadjusted": true,
                      "semi_adjusted": true
                    }
                  }
                },
                "Dynamic Portfolio Data": {
                  "summary": "Time-changing portfolio allocation",
                  "value": {
                    "assets": [
                      {
                        "type": "dynamic",
                        "name": "Risk On/Off Strategy",
                        "ticker": "RISK_TACTICAL",
                        "seed": 75000,
                        "models": [
                          {
                            "start": "2024-01-01",
                            "rebalance": "month",
                            "holdings": [
                              {
                                "ticker": "QQQ",
                                "weight": 80
                              },
                              {
                                "ticker": "TLT",
                                "weight": 20
                              }
                            ]
                          }
                        ]
                      }
                    ],
                    "include": [
                      "prices",
                      "info"
                    ],
                    "start_date": "2024-01-01",
                    "end_date": "2024-02-01"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful data extraction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataV2Response"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "2j2jqora839a0"
        },
        "tags": [
          "Market Data"
        ]
      },
      "parameters": []
    },
    "/data/{ticker}": {
      "get": {
        "summary": "Get single ticker",
        "description": "Extract financial data for a single ticker with query parameter options. If start and end dates are not provided, defaults to 1 year of data ending on the current date.",
        "operationId": "getSingleTickerData",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "AAPL"
          },
          {
            "name": "start",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date. If not provided, defaults to 1 year before end date."
          },
          {
            "name": "end",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date. If not provided, defaults to current date."
          },
          {
            "name": "volumes",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include volume data"
          },
          {
            "name": "ohlv",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include OHLV data"
          },
          {
            "name": "dividends",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include dividend data"
          },
          {
            "name": "yield",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include yield data"
          },
          {
            "name": "unadj",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include unadjusted prices"
          },
          {
            "name": "semiadj",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "1"
              ]
            },
            "description": "Include semi-adjusted prices"
          },
          {
            "name": "frequency",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "quarterly"
              ],
              "default": "daily"
            },
            "description": "Data frequency: daily, weekly (Fridays), monthly (month-end), or quarterly (quarter-end)",
            "example": "monthly"
          }
        ],
        "responses": {
          "200": {
            "description": "Ticker data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataV2Response"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "2x5wevq0dptew"
        },
        "tags": [
          "Market Data"
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "ticker",
          "in": "path",
          "required": true
        }
      ]
    },
    "/reference": {
      "post": {
        "summary": "Get security info",
        "description": "Retrieve detailed security information, portfolio breakdowns, and attribution analysis for multiple assets including individual securities and static portfolio models.",
        "operationId": "getSecurityInfo",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SecurityInfoRequest"
              },
              "examples": {
                "Simple Tickers": {
                  "summary": "Basic security details for multiple tickers",
                  "value": {
                    "assets": [
                      "AAPL",
                      "MSFT",
                      "VTI"
                    ],
                    "include": [
                      "details",
                      "portfolio"
                    ]
                  }
                },
                "Portfolio Analysis": {
                  "summary": "Static portfolio with detailed breakdown",
                  "value": {
                    "assets": [
                      {
                        "type": "static",
                        "name": "Conservative 60/40",
                        "ticker": "CONS_6040",
                        "holdings": [
                          {
                            "ticker": "VTI",
                            "weight": 60
                          },
                          {
                            "ticker": "BND",
                            "weight": 40
                          }
                        ]
                      }
                    ],
                    "include": [
                      "portfolio",
                      "attribution"
                    ],
                    "attribution_periods": [
                      "oneyear",
                      "onequarter"
                    ]
                  }
                },
                "Complete Analysis": {
                  "summary": "Full analysis with all options",
                  "value": {
                    "assets": [
                      "AAPL",
                      "VTI"
                    ],
                    "include": [
                      "details",
                      "portfolio",
                      "shareclasses"
                    ],
                    "topcount": "15"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful analysis",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SecurityInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "c5fc2b3vr9not"
        },
        "tags": [
          "Reference"
        ]
      },
      "parameters": []
    },
    "/reference/{ticker}": {
      "get": {
        "summary": "Get single security",
        "description": "Retrieve detailed security information for a single ticker using query parameters for options.",
        "operationId": "getSingleSecurityInfo",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "AAPL"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Comma-separated list of data types to include (details,portfolio,shareclasses,attribution)",
            "example": "details,portfolio"
          },
          {
            "name": "topcount",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "10"
            },
            "description": "Number of top holdings to return (or 'MAX' for all)",
            "example": "15"
          },
          {
            "name": "attribution_periods",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Comma-separated list of attribution periods (oneyear,onequarter)",
            "example": "oneyear,onequarter"
          }
        ],
        "responses": {
          "200": {
            "description": "Security information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SecurityInfoResponse"
                }
              }
            }
          }
        },
        "x-stoplight": {
          "id": "sqwpb30kozrd3"
        },
        "tags": [
          "Reference"
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "ticker",
          "in": "path",
          "required": true
        }
      ]
    }
  },
  "components": {
    "schemas": {
      "AuthRequest": {
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "properties": {
          "username": {
            "type": "string",
            "format": "email",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "format": "password",
            "example": "hunter2"
          }
        }
      },
      "RefreshRequest": {
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "properties": {
          "refresh_token": {
            "type": "string",
            "description": "Refresh token obtained from /auth"
          }
        }
      },
      "TokenResponse": {
        "type": "object",
        "required": [
          "access_token",
          "id_token",
          "refresh_token",
          "expires_in",
          "token_type"
        ],
        "properties": {
          "access_token": {
            "type": "string",
            "description": "JWT used for API authorization"
          },
          "id_token": {
            "type": "string",
            "description": "JWT with user identity claims (also accepted by APIs in this system)"
          },
          "refresh_token": {
            "type": "string",
            "description": "Token to obtain new access/id tokens"
          },
          "expires_in": {
            "type": "integer",
            "description": "Lifetime of access/id token in seconds",
            "example": 3600
          },
          "token_type": {
            "type": "string",
            "enum": [
              "Bearer"
            ],
            "example": "Bearer"
          }
        }
      },
      "AdvancedSettings": {
        "type": "object",
        "description": "Advanced calculation parameters that affect statistical computations. See [Advanced Settings Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#advanced-settings-behavior) for detailed impact on calculations.",
        "properties": {
          "correlation_period": {
            "type": "integer",
            "description": "Number of days for correlation, beta, and alpha calculations. Affects market risk metrics.",
            "default": 21,
            "minimum": 5,
            "maximum": 252
          },
          "moving_average_periods": {
            "type": "array",
            "description": "Moving average periods in days to calculate when moving_averages is included.",
            "default": [
              50,
              200
            ],
            "items": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000
            }
          },
          "use_month_end_returns": {
            "type": "boolean",
            "description": "Use month-end dates for period calculations instead of exact date math. Affects period boundary definitions.",
            "default": false
          }
        }
      },
      "ApiError": {
        "type": "object",
        "x-stoplight": {
          "id": "691e085f4adb4"
        },
        "properties": {
          "code": {
            "type": "string",
            "enum": [
              "INVALID_TICKER",
              "CALCULATION_ERROR",
              "INSUFFICIENT_DATA"
            ],
            "example": "INVALID_TICKER"
          },
          "message": {
            "type": "string",
            "example": "Invalid or unknown ticker: INVALID123"
          }
        }
      },
      "AssetInfo": {
        "type": "object",
        "x-stoplight": {
          "id": "198548cddfe25"
        },
        "description": "Static security information that doesn't change based on as_of date",
        "properties": {
          "shares_outstanding": {
            "type": "integer",
            "example": 15550061000,
            "description": "Number of shares outstanding"
          },
          "security_type": {
            "type": "string",
            "enum": [
              "Stock",
              "Exchange Traded Fund",
              "Mutual Fund",
              "Index",
              "Static Model",
              "Dynamic Model",
              "Momentum Model",
              "FNU"
            ],
            "example": "Stock"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "example": "1980-12-12",
            "description": "First available date in data"
          }
        }
      },
      "CustomData": {
        "type": "object",
        "required": [
          "data",
          "type"
        ],
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "prices": {
                "type": "array",
                "example": [
                  100,
                  102,
                  98,
                  105,
                  110
                ],
                "items": {
                  "type": "number"
                }
              },
              "ticker": {
                "type": "string",
                "example": "CUSTOM_001"
              }
            }
          },
          "name": {
            "type": "string",
            "example": "Custom Strategy"
          },
          "type": {
            "type": "string",
            "enum": [
              "fnu"
            ]
          }
        },
        "title": "Custom Data",
        "description": "User-provided price data"
      },
      "CustomPeriod": {
        "type": "object",
        "required": [
          "custom"
        ],
        "description": "Custom date range for analyzing specific time periods or market events",
        "properties": {
          "custom": {
            "type": "object",
            "required": [
              "label",
              "from"
            ],
            "properties": {
              "label": {
                "type": "string",
                "description": "Unique identifier for this custom period. Used as key in response periods object.",
                "example": "covid_crash"
              },
              "from": {
                "type": "string",
                "format": "date",
                "description": "Start date of the custom period (YYYY-MM-DD format)",
                "example": "2020-02-01"
              },
              "to": {
                "type": "string",
                "format": "date",
                "description": "End date of the custom period. If omitted, uses the request's as_of date.",
                "example": "2020-04-01"
              }
            }
          }
        },
        "example": {
          "custom": {
            "label": "covid_crash",
            "from": "2020-02-19",
            "to": "2020-03-23"
          }
        }
      },
      "DataFrequency": {
        "type": "string",
        "enum": [
          "daily",
          "weekly",
          "monthly",
          "quarterly"
        ],
        "default": "daily",
        "description": "Data frequency that determines which dates are included in the response. See [Data Frequency Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#data-frequency-data-frequency) for detailed behavior and examples.",
        "example": "monthly"
      },
      "DataV2Dividend": {
        "type": "object",
        "description": "Dividend payment information. See [Dividend Types Reference](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#dividend-types) for detailed type explanations.",
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "description": "Ex-dividend date",
            "example": "2024-02-15"
          },
          "amount": {
            "type": "number",
            "description": "Dividend amount per share in USD",
            "example": 0.24
          },
          "type": {
            "type": "string",
            "enum": [
              "Income",
              "Short Term",
              "Long Term",
              "Split",
              "Other"
            ],
            "description": "Human-readable dividend type",
            "example": "Income"
          },
          "type_code": {
            "type": "string",
            "enum": [
              "D",
              "G",
              "C",
              "Z"
            ],
            "description": "Single-character dividend type code",
            "example": "D"
          }
        }
      },
      "DataV2Metadata": {
        "type": "object",
        "properties": {
          "total_securities": {
            "type": "integer",
            "description": "Number of securities processed",
            "example": 3
          },
          "calculation_time_ms": {
            "type": "integer",
            "description": "Processing time in milliseconds",
            "example": 450
          },
          "dates": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "date"
            },
            "description": "Date array corresponding to all time series data points (included when date range is specified)",
            "example": [
              "2024-01-01",
              "2024-01-02",
              "2024-01-03"
            ]
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "description": "Actual start date of data range (first date in dates array)",
            "example": "2024-01-01"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "description": "Actual end date of data range (last date in dates array)",
            "example": "2024-07-29"
          },
          "frequency": {
            "$ref": "#/components/schemas/DataFrequency"
          }
        }
      },
      "DataV2OHLV": {
        "type": "object",
        "description": "Open, High, Low, Volume data",
        "properties": {
          "opens": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Opening price time series"
          },
          "highs": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "High price time series"
          },
          "lows": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Low price time series"
          },
          "volumes": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Volume time series"
          }
        }
      },
      "DataV2Options": {
        "type": "object",
        "description": "Optional price adjustment settings. See [Price Adjustment Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#price-adjustments) for detailed explanations and use cases.",
        "properties": {
          "unadjusted": {
            "type": "boolean",
            "description": "Include unadjusted (raw) price data in addition to adjusted prices. Useful for analyzing actual trading prices or calculating custom adjustments.",
            "default": false
          },
          "semi_adjusted": {
            "type": "boolean",
            "description": "Include semi-adjusted price data (split-adjusted but not dividend-adjusted) in addition to adjusted prices. Useful for certain technical analysis calculations.",
            "default": false
          }
        }
      },
      "DataV2Prices": {
        "type": "object",
        "properties": {
          "adjusted": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Fully adjusted closing prices accounting for splits, dividends, and other corporate actions. This is the default price series used for calculations."
          },
          "unadjusted": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Raw closing prices as traded, without any adjustments for splits or dividends. Only available when options.unadjusted = true."
          },
          "semi_adjusted": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Prices adjusted for stock splits but not dividends. Only available when options.semi_adjusted = true."
          }
        }
      },
      "DataV2Request": {
        "type": "object",
        "required": [
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "description": "List of assets to extract data for. Supports simple ticker symbols and complex portfolio models. See [Supported Asset Types](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#supported-asset-types) for examples and limitations.",
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "Simple ticker symbol (e.g., 'AAPL', 'SPY')"
                },
                {
                  "$ref": "#/components/schemas/StaticModel"
                },
                {
                  "$ref": "#/components/schemas/DynamicModel"
                },
                {
                  "$ref": "#/components/schemas/MomentumModel"
                },
                {
                  "$ref": "#/components/schemas/CustomData"
                }
              ]
            }
          },
          "include": {
            "type": "array",
            "description": "Data types to include in response. See [Asset Type Compatibility](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#asset-type-compatibility-asset-type-compatibility) for data availability by asset type.",
            "default": [
              "prices"
            ],
            "items": {
              "type": "string",
              "enum": [
                "prices",
                "volumes",
                "ohlv",
                "dividends",
                "info",
                "yield"
              ]
            }
          },
          "as_of": {
            "type": "string",
            "format": "date",
            "description": "As-of date for data extraction",
            "example": "2024-07-29"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "description": "Start date for time series data. If not provided, defaults to 1 year before the as_of date (or current date if as_of is also not specified).",
            "example": "2024-01-01"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "description": "End date for time series data. If not provided, defaults to the as_of date (or current date if as_of is also not specified).",
            "example": "2024-07-29"
          },
          "frequency": {
            "$ref": "#/components/schemas/DataFrequency"
          },
          "options": {
            "$ref": "#/components/schemas/DataV2Options"
          }
        }
      },
      "DataV2Response": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataV2Result"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/DataV2Metadata"
          }
        }
      },
      "DataV2Result": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "prices": {
            "$ref": "#/components/schemas/DataV2Prices"
          },
          "volumes": {
            "type": "array",
            "items": {
              "type": "number",
              "nullable": true
            },
            "description": "Volume data time series"
          },
          "ohlv": {
            "$ref": "#/components/schemas/DataV2OHLV"
          },
          "dividends": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataV2Dividend"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/AssetInfo"
          },
          "yield_data": {
            "$ref": "#/components/schemas/StatsV2Yield"
          },
          "error": {
            "$ref": "#/components/schemas/ApiError"
          }
        }
      },
      "DateRange": {
        "type": "object",
        "properties": {
          "start": {
            "type": "string",
            "format": "date",
            "example": "2023-07-31"
          },
          "end": {
            "type": "string",
            "format": "date",
            "example": "2024-07-29"
          },
          "trading_days": {
            "type": "integer",
            "example": 252
          }
        }
      },
      "DynamicModel": {
        "type": "object",
        "required": [
          "type",
          "models"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "dynamic"
            ]
          },
          "name": {
            "type": "string",
            "description": "Display name for the dynamic strategy"
          },
          "ticker": {
            "type": "string",
            "description": "Unique identifier for this dynamic model"
          },
          "seed": {
            "type": "number",
            "description": "Initial investment amount in dollars",
            "default": 100000
          },
          "models": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "start",
                "holdings"
              ],
              "properties": {
                "start": {
                  "type": "string",
                  "format": "date",
                  "description": "Date when this allocation becomes active"
                },
                "rebalance": {
                  "type": "string",
                  "enum": [
                    "day",
                    "week",
                    "month",
                    "quarter",
                    "annual"
                  ],
                  "description": "Rebalancing frequency for this period"
                },
                "holdings": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Holding"
                  },
                  "description": "Portfolio allocation for this time period"
                }
              }
            },
            "description": "Array of portfolio allocations that activate on specific dates. Models are applied chronologically based on start dates.",
            "minItems": 1
          }
        },
        "x-examples": {
          "Tactical Allocation": {
            "type": "dynamic",
            "name": "Risk On/Off Strategy",
            "ticker": "RISK_TACTICAL",
            "seed": 75000,
            "models": [
              {
                "start": "2020-01-01",
                "rebalance": "month",
                "holdings": [
                  {
                    "ticker": "QQQ",
                    "weight": 80
                  },
                  {
                    "ticker": "TLT",
                    "weight": 20
                  }
                ]
              },
              {
                "start": "2022-01-01",
                "rebalance": "quarter",
                "holdings": [
                  {
                    "ticker": "VTI",
                    "weight": 50
                  },
                  {
                    "ticker": "BND",
                    "weight": 30
                  },
                  {
                    "ticker": "GLD",
                    "weight": 20
                  }
                ]
              },
              {
                "start": "2024-01-01",
                "rebalance": "month",
                "holdings": [
                  {
                    "ticker": "SPY",
                    "weight": 70
                  },
                  {
                    "ticker": "IEF",
                    "weight": 30
                  }
                ]
              }
            ]
          },
          "Life Cycle Fund": {
            "type": "dynamic",
            "name": "Age-Based Allocation",
            "ticker": "LIFECYCLE_2050",
            "seed": 100000,
            "models": [
              {
                "start": "2020-01-01",
                "rebalance": "quarter",
                "holdings": [
                  {
                    "ticker": "VTI",
                    "weight": 90
                  },
                  {
                    "ticker": "BND",
                    "weight": 10
                  }
                ]
              },
              {
                "start": "2025-01-01",
                "rebalance": "quarter",
                "holdings": [
                  {
                    "ticker": "VTI",
                    "weight": 80
                  },
                  {
                    "ticker": "VXUS",
                    "weight": 10
                  },
                  {
                    "ticker": "BND",
                    "weight": 10
                  }
                ]
              }
            ]
          }
        },
        "description": "Portfolio that changes allocation over time",
        "title": "Dynamic Portfolio"
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Invalid request format"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "example": "2024-07-29T14:30:00.000Z"
          }
        }
      },
      "Holding": {
        "type": "object",
        "required": [
          "ticker",
          "weight"
        ],
        "properties": {
          "ticker": {
            "type": "string",
            "example": "VTI"
          },
          "weight": {
            "type": "number",
            "description": "Weight as percentage (0-100)",
            "example": 60
          }
        }
      },
      "MARankingSystem": {
        "type": "object",
        "required": [
          "type",
          "parameters"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "ma"
            ]
          },
          "parameters": {
            "type": "object",
            "required": [
              "short",
              "long"
            ],
            "properties": {
              "short": {
                "type": "integer",
                "description": "Short moving average period in days",
                "minimum": 1,
                "example": 20
              },
              "long": {
                "type": "integer",
                "description": "Long moving average period in days",
                "minimum": 1,
                "example": 50
              },
              "lookback_period": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "Lookback period in days"
                  },
                  {
                    "type": "string",
                    "enum": [
                      "month",
                      "quarter",
                      "year"
                    ],
                    "description": "Lookback period as time unit"
                  }
                ],
                "description": "Lookback period for MA calculations (days as integer or 'month'/'quarter'/'year')",
                "default": "quarter"
              }
            }
          }
        }
      },
      "MarketRisk": {
        "type": "object",
        "description": "Risk metrics relative to benchmark and market exposure",
        "properties": {
          "alpha": {
            "type": "number",
            "description": "Jensen's alpha measuring excess return vs benchmark. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#alpha).",
            "example": 0.021
          },
          "beta": {
            "type": "number",
            "description": "Beta coefficient measuring systematic risk relative to benchmark. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#beta).",
            "example": 1.08
          },
          "correlation": {
            "type": "number",
            "description": "Pearson correlation with benchmark. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#correlation).",
            "example": 0.89
          },
          "r_squared": {
            "type": "number",
            "description": "R-squared coefficient of determination. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#r-squared).",
            "example": 0.79
          }
        }
      },
      "MaxDrawdown": {
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "description": "Maximum drawdown as decimal (-0.152 = -15.2%). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#maximum-drawdown-value).",
            "example": -0.152
          },
          "peak_date": {
            "type": "string",
            "format": "date",
            "description": "Date of drawdown peak. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#peak-date).",
            "example": "2024-03-15"
          },
          "valley_date": {
            "type": "string",
            "format": "date",
            "description": "Date of drawdown valley. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#valley-date).",
            "example": "2024-06-22"
          },
          "duration_days": {
            "type": "integer",
            "description": "Duration of drawdown in days. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#duration-days).",
            "example": 99
          },
          "recovery_days": {
            "type": "integer",
            "description": "Days to recover from drawdown (-1 if not recovered). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#recovery-days).",
            "example": 82
          }
        }
      },
      "MomentumModel": {
        "type": "object",
        "x-examples": {
          "Tech Momentum": {
            "type": "momentum",
            "name": "Top 5 Tech Momentum",
            "ticker": "TECH_MOM_5",
            "seed": 50000,
            "start": "2021-01-01",
            "rebalance": "month",
            "model": {
              "universe": [
                "AAPL",
                "MSFT",
                "GOOGL",
                "AMZN",
                "TSLA",
                "NVDA",
                "META",
                "NFLX",
                "AMD",
                "CRM"
              ],
              "number_holdings": "5",
              "ranking_system": {
                "type": "return",
                "parameters": {
                  "lookback_period": "month"
                }
              }
            }
          },
          "Sector Rotation": {
            "type": "momentum",
            "name": "Best Sector ETFs",
            "ticker": "SECTOR_MOM",
            "seed": 100000,
            "start": "2020-01-01",
            "rebalance": "quarter",
            "model": {
              "universe": [
                "XLK",
                "XLF",
                "XLE",
                "XLV",
                "XLI",
                "XLY",
                "XLP",
                "XLB",
                "XLU",
                "XLRE",
                "XLC"
              ],
              "number_holdings": "3",
              "ranking_system": {
                "type": "return",
                "parameters": {
                  "lookback_period": "quarter"
                }
              }
            }
          },
          "Low Vol Strategy": {
            "type": "momentum",
            "name": "Defensive Selection",
            "ticker": "LOW_VOL_DEF",
            "seed": 25000,
            "start": "2022-01-01",
            "rebalance": "month",
            "model": {
              "universe": [
                "JNJ",
                "PG",
                "KO",
                "PFE",
                "WMT",
                "VZ",
                "T",
                "MCD",
                "IBM",
                "MMM"
              ],
              "number_holdings": "7",
              "ranking_system": {
                "type": "ma",
                "parameters": {
                  "short": 10,
                  "long": 30,
                  "lookback_period": "quarter"
                }
              }
            }
          }
        },
        "required": [
          "type",
          "model"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "momentum"
            ]
          },
          "name": {
            "type": "string",
            "description": "Display name for the momentum strategy"
          },
          "ticker": {
            "type": "string",
            "description": "Unique identifier for this momentum model"
          },
          "seed": {
            "type": "number",
            "description": "Initial investment amount in dollars",
            "default": 100000
          },
          "start": {
            "type": "string",
            "format": "date",
            "description": "Start date for backtesting this momentum strategy"
          },
          "rebalance": {
            "type": "string",
            "enum": [
              "day",
              "week",
              "month",
              "quarter",
              "annual"
            ],
            "description": "How often to rerank securities and rebalance the portfolio"
          },
          "model": {
            "type": "object",
            "required": [
              "universe",
              "number_holdings",
              "ranking_system"
            ],
            "properties": {
              "universe": {
                "type": "array",
                "description": "Pool of securities to select from. The strategy will rank these and hold the top performers.",
                "minItems": 2,
                "items": {
                  "type": "string"
                }
              },
              "number_holdings": {
                "type": "string",
                "description": "Number of securities to hold from the ranked universe (e.g., '5' holds top 5 performers)"
              },
              "ranking_system": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/MARankingSystem"
                  },
                  {
                    "$ref": "#/components/schemas/StandardRankingSystem"
                  }
                ]
              }
            }
          }
        },
        "title": "Momentum Strategy",
        "description": "Strategy that ranks securities and holds top performers"
      },
      "MovingAverage": {
        "type": "object",
        "properties": {
          "period": {
            "type": "integer",
            "description": "Length of the moving average in days. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#moving-averages).",
            "example": 50
          },
          "value": {
            "type": "number",
            "description": "Moving average value (or -1 if calculation error). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#moving-averages).",
            "example": 172.45
          }
        }
      },
      "PredefinedPeriod": {
        "type": "string",
        "enum": [
          "1d",
          "5d",
          "1m",
          "3m",
          "6m",
          "1y",
          "3y",
          "5y",
          "10y",
          "inception"
        ],
        "description": "**Allowed:**  `1d`, `5d`, `1m`, `3m`, `6m`, `1y`, `3y`, `5y`, `10y`, `inception` ",
        "title": ""
      },
      "Returns": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total cumulative return over the full period, unadjusted for time (e.g., 0.25 = 25% return over 3 years). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#total-return).",
            "example": 0.307
          },
          "annualized_market": {
            "type": "number",
            "description": "Annualized return adjusted by market days (252.25 / trading_days). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#annualized-market-return).",
            "example": 0.2616
          },
          "annualized_calendar": {
            "type": "number",
            "description": "Annualized return adjusted by calendar days (365.25 / calendar_days). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#annualized-calendar-return).",
            "example": 0.25931
          }
        }
      },
      "Risk": {
        "type": "object",
        "description": "Comprehensive risk analysis organized by category",
        "properties": {
          "volatility": {
            "$ref": "#/components/schemas/Volatility"
          },
          "market_risk": {
            "$ref": "#/components/schemas/MarketRisk"
          },
          "risk_adjusted_performance": {
            "$ref": "#/components/schemas/RiskAdjustedPerformance"
          }
        }
      },
      "RiskAdjustedPerformance": {
        "type": "object",
        "description": "Return-per-unit-of-risk performance ratios",
        "properties": {
          "ftalpha": {
            "type": "number",
            "description": "FastTrack Alpha proprietary risk-adjusted performance metric. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#ftalpha).",
            "example": 2790.49
          },
          "sharpe_ratio": {
            "type": "number",
            "description": "Sharpe ratio measuring excess return per unit of total risk. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#sharpe-ratio).",
            "example": 1.25
          },
          "sortino_ratio": {
            "type": "number",
            "description": "Sortino ratio measuring excess return per unit of downside risk. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#sortino-ratio).",
            "example": 2.76
          },
          "treynor_ratio": {
            "type": "number",
            "description": "Treynor ratio measuring excess return per unit of systematic risk. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#treynor-ratio).",
            "example": 702.96
          },
          "ulcer_performance_index": {
            "type": "number",
            "description": "Ulcer Performance Index measuring return per unit of ulcer index. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#ulcer-performance-index).",
            "example": 1.89
          }
        }
      },
      "StandardRankingSystem": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "return",
              "sharpe",
              "upi",
              "ftalpha"
            ]
          },
          "parameters": {
            "type": "object",
            "properties": {
              "lookback_period": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "Lookback period in days"
                  },
                  {
                    "type": "string",
                    "enum": [
                      "month",
                      "quarter",
                      "year"
                    ],
                    "description": "Lookback period as time unit"
                  }
                ],
                "description": "Lookback period for calculations (days as integer or 'month'/'quarter'/'year')",
                "default": "quarter"
              }
            }
          }
        }
      },
      "StaticModel": {
        "type": "object",
        "required": [
          "type",
          "holdings"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "static"
            ]
          },
          "name": {
            "type": "string",
            "description": "Display name for the portfolio strategy"
          },
          "ticker": {
            "type": "string",
            "description": "Unique identifier for this model"
          },
          "holdings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Holding"
            },
            "description": "Portfolio holdings with weights. Weights should sum to 100 (representing percentages).",
            "minItems": 1
          },
          "rebalance": {
            "type": "string",
            "enum": [
              "day",
              "week",
              "month",
              "quarter",
              "annual"
            ],
            "default": "month",
            "description": "How often to rebalance the portfolio to target weights"
          },
          "start": {
            "type": "string",
            "format": "date",
            "description": "Start date for backtesting this model"
          },
          "seed": {
            "type": "number",
            "description": "Initial investment amount in dollars",
            "default": 100000
          }
        },
        "x-examples": {
          "Conservative Portfolio": {
            "type": "static",
            "name": "Conservative 60/40",
            "ticker": "CONS_6040",
            "holdings": [
              {
                "ticker": "VTI",
                "weight": 60
              },
              {
                "ticker": "BND",
                "weight": 40
              }
            ],
            "rebalance": "quarter",
            "start": "2020-01-01",
            "seed": 50000
          },
          "Aggressive Growth": {
            "type": "static",
            "name": "Tech Heavy",
            "ticker": "TECH_GROWTH",
            "holdings": [
              {
                "ticker": "QQQ",
                "weight": 70
              },
              {
                "ticker": "VTI",
                "weight": 20
              },
              {
                "ticker": "BND",
                "weight": 10
              }
            ],
            "rebalance": "month",
            "start": "2021-01-01",
            "seed": 100000
          }
        },
        "title": "Static Portfolios",
        "description": "Fixed allocation portfolio that rebalances to target weights"
      },
      "StatsV2HistoricalMetadata": {
        "type": "object",
        "properties": {
          "total_securities": {
            "type": "integer",
            "description": "Number of securities processed",
            "example": 3
          },
          "calculation_time_ms": {
            "type": "integer",
            "description": "Calculation time in milliseconds",
            "example": 1250
          },
          "as_of_date": {
            "type": "string",
            "format": "date",
            "description": "Current date",
            "example": "2024-07-29"
          },
          "benchmark": {
            "type": "string",
            "description": "Benchmark ticker used",
            "example": "SPY"
          },
          "yearly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for yearly periods"
          },
          "quarterly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for quarterly periods"
          },
          "monthly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for monthly periods"
          }
        }
      },
      "StatsV2HistoricalPeriod": {
        "type": "object",
        "properties": {
          "returns": {
            "$ref": "#/components/schemas/Returns"
          },
          "risk": {
            "$ref": "#/components/schemas/Risk"
          },
          "maxdraw": {
            "$ref": "#/components/schemas/MaxDrawdown"
          },
          "pricing": {
            "$ref": "#/components/schemas/StatsV2Pricing"
          },
          "yield": {
            "$ref": "#/components/schemas/StatsV2Yield"
          }
        }
      },
      "StatsV2HistoricalRequest": {
        "type": "object",
        "required": [
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "Simple ticker symbol",
                  "example": "AAPL"
                },
                {
                  "$ref": "#/components/schemas/StaticModel"
                },
                {
                  "$ref": "#/components/schemas/DynamicModel"
                },
                {
                  "$ref": "#/components/schemas/MomentumModel"
                },
                {
                  "$ref": "#/components/schemas/CustomData"
                }
              ]
            }
          },
          "benchmark": {
            "type": "string",
            "description": "Benchmark ticker for risk calculations",
            "default": "SPY",
            "example": "SPY"
          },
          "rollups": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "year",
                "quarter",
                "month"
              ]
            },
            "description": "Time period rollups to calculate",
            "default": [
              "year"
            ]
          },
          "years": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^[0-9]{4}$"
            },
            "description": "Years to include in calculations",
            "example": [
              "2020",
              "2021",
              "2022",
              "2023",
              "2024"
            ]
          },
          "include": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "drawdown_analysis",
                "moving_averages",
                "volume_data",
                "security_info"
              ]
            },
            "description": "Optional data to include"
          },
          "advanced": {
            "$ref": "#/components/schemas/AdvancedSettings"
          }
        },
        "description": "Calculate financial statistics for discrete time periods (yearly, quarterly, monthly). Returns statistics organized by calendar periods (e.g., '2023', '2023-Q1') with period-specific pricing data. See [Response Structure Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#response-structure-differences) for details."
      },
      "StatsV2HistoricalResponse": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StatsV2HistoricalResult"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/StatsV2HistoricalMetadata"
          }
        }
      },
      "StatsV2HistoricalResult": {
        "type": "object",
        "properties": {
          "info": {
            "$ref": "#/components/schemas/AssetInfo"
          },
          "monthly": {
            "type": "object",
            "description": "Monthly statistics (e.g., '2023-01', '2023-02')",
            "additionalProperties": {
              "$ref": "#/components/schemas/StatsV2HistoricalPeriod"
            }
          },
          "moving_averages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MovingAverage"
            },
            "nullable": true
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "quarterly": {
            "type": "object",
            "description": "Quarterly statistics (e.g., '2023-Q1', '2023-Q2')",
            "additionalProperties": {
              "$ref": "#/components/schemas/StatsV2HistoricalPeriod"
            }
          },
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "yearly": {
            "type": "object",
            "description": "Yearly statistics (e.g., '2023', '2024')",
            "additionalProperties": {
              "$ref": "#/components/schemas/StatsV2HistoricalPeriod"
            }
          },
          "volume_data": {
            "$ref": "#/components/schemas/VolumeData",
            "nullable": true
          },
          "error": {
            "$ref": "#/components/schemas/ApiError",
            "nullable": true
          }
        }
      },
      "StatsV2Metadata": {
        "type": "object",
        "properties": {
          "total_securities": {
            "type": "integer",
            "description": "Number of securities processed",
            "example": 3
          },
          "calculation_time_ms": {
            "type": "integer",
            "description": "Calculation time in milliseconds",
            "example": 1250
          },
          "as_of_date": {
            "type": "string",
            "format": "date",
            "description": "As-of date used for calculations",
            "example": "2024-07-29"
          },
          "benchmark": {
            "type": "string",
            "description": "Benchmark ticker used",
            "example": "SPY"
          },
          "dates": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "date"
            },
            "description": "Date array for time series data (when applicable)",
            "example": [
              "2024-01-01",
              "2024-01-02",
              "2024-01-03"
            ]
          },
          "date_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for each period"
          },
          "yearly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for yearly periods"
          },
          "quarterly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for quarterly periods"
          },
          "monthly_ranges": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DateRange"
            },
            "description": "Date ranges for monthly periods"
          }
        }
      },
      "StatsV2Period": {
        "type": "object",
        "properties": {
          "returns": {
            "$ref": "#/components/schemas/Returns"
          },
          "risk": {
            "$ref": "#/components/schemas/Risk"
          },
          "maxdraw": {
            "$ref": "#/components/schemas/MaxDrawdown"
          }
        }
      },
      "StatsV2Pricing": {
        "type": "object",
        "properties": {
          "current_close_price": {
            "type": "number",
            "example": 195.23,
            "description": "Current close price (or -1 if calculation error)"
          },
          "previous_close_price": {
            "type": "number",
            "example": 193.45,
            "description": "Previous close price (or -1 if calculation error)"
          },
          "price_change": {
            "type": "number",
            "example": 1.78,
            "description": "Price change in currency units (or -1 if calculation error)"
          },
          "price_change_percent": {
            "type": "number",
            "example": 0.0092,
            "description": "Price change as decimal (0.0092 = 0.92%, or -99 if calculation error)"
          },
          "high_52": {
            "type": "number",
            "example": 199.62,
            "description": "52-week high (or -1 if calculation error)"
          },
          "low_52": {
            "type": "number",
            "example": 164.08,
            "description": "52-week low (or -1 if calculation error)"
          },
          "market_cap": {
            "type": "number",
            "example": 3037000000000,
            "description": "Market capitalization (or -1 if calculation error)"
          }
        }
      },
      "StatsV2Request": {
        "type": "object",
        "description": "Calculate financial statistics for multiple assets. Supports simple ticker symbols or complex portfolio models including static allocations, dynamic strategies, and momentum-based selection.",
        "required": [
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "description": "List of assets to analyze. Can be:\r\n        - Simple ticker symbols (e.g., \"AAPL\", \"MSFT\") \r\n        - Static portfolio models with fixed allocations\r\n        - Dynamic portfolios that change over time\r\n        - Momentum strategies that rank and select securities\r\n        - Custom price data",
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "title": "Ticker Symbol",
                  "description": "Simple ticker symbol",
                  "example": "AAPL"
                },
                {
                  "$ref": "#/components/schemas/StaticModel"
                },
                {
                  "$ref": "#/components/schemas/DynamicModel"
                },
                {
                  "$ref": "#/components/schemas/MomentumModel"
                },
                {
                  "$ref": "#/components/schemas/CustomData"
                }
              ]
            }
          },
          "as_of": {
            "type": "string",
            "format": "date",
            "description": "As-of date for calculations (YYYY-MM-DD). If not provided, defaults to current date.",
            "example": "2024-07-29"
          },
          "benchmark": {
            "type": "string",
            "description": "Benchmark ticker for risk calculations (beta, alpha, correlation, Sharpe ratio). Must be a valid ticker symbol.",
            "default": "SPY",
            "example": "SPY"
          },
          "time_periods": {
            "type": "array",
            "description": "Time periods to calculate statistics for. If not provided, defaults to [\"1m\", \"3m\", \"1y\", \"3y\"]. See [Period Calculation Behavior](/docs/ReferenceGuide.md#period-calculation-behavior) for details on which statistics are calculated for different period lengths.",
            "default": [
              "1m",
              "3m",
              "1y",
              "3y"
            ],
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/PredefinedPeriod"
                },
                {
                  "$ref": "#/components/schemas/CustomPeriod"
                }
              ]
            }
          },
          "include": {
            "type": "array",
            "description": "Optional data to include in the response. See [Include Options Guide](/docs/ftlightning/q1qm3qbjxdfhx-data-api-reference-guide#include-options-behavior) for detailed behavior and asset type compatibility.",
            "items": {
              "type": "string",
              "enum": [
                "drawdown_analysis",
                "moving_averages",
                "volume_data",
                "position_details",
                "security_info"
              ]
            }
          },
          "advanced": {
            "$ref": "#/components/schemas/AdvancedSettings"
          }
        }
      },
      "StatsV2Response": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StatsV2Result"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/StatsV2Metadata"
          }
        }
      },
      "StatsV2Result": {
        "type": "object",
        "properties": {
          "info": {
            "$ref": "#/components/schemas/AssetInfo"
          },
          "moving_averages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MovingAverage",
              "nullable": true
            },
            "nullable": true
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "periods": {
            "type": "object",
            "description": "Period-specific statistics keyed by period name",
            "additionalProperties": {
              "$ref": "#/components/schemas/StatsV2Period"
            }
          },
          "shared_data": {
            "$ref": "#/components/schemas/StatsV2SharedData",
            "nullable": true
          },
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "volume_data": {
            "$ref": "#/components/schemas/VolumeData",
            "nullable": true
          },
          "error": {
            "$ref": "#/components/schemas/ApiError"
          }
        }
      },
      "StatsV2SharedData": {
        "type": "object",
        "description": "Pricing and yield data shared across all periods (snapshot mode only)",
        "properties": {
          "pricing": {
            "$ref": "#/components/schemas/StatsV2Pricing"
          },
          "yield": {
            "$ref": "#/components/schemas/StatsV2Yield"
          }
        }
      },
      "StatsV2Yield": {
        "type": "object",
        "properties": {
          "yield_income": {
            "type": "number",
            "example": 0.0055,
            "description": "Income yield as decimal (0.0055 = 0.55%, or -99 if calculation error). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#yield-calculations)."
          },
          "yield_short": {
            "type": "number",
            "example": 0.0032,
            "description": "Short-term yield as decimal (or -99 if calculation error). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#yield-calculations)."
          },
          "yield_long": {
            "type": "number",
            "example": 0.0078,
            "description": "Long-term yield as decimal (or -99 if calculation error). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#yield-calculations)."
          },
          "yield_all": {
            "type": "number",
            "example": 0.0055,
            "description": "Total yield as decimal (or -99 if calculation error). See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#yield-calculations)."
          }
        }
      },
      "Volatility": {
        "type": "object",
        "description": "Price volatility and variability metrics",
        "properties": {
          "downside_deviation": {
            "type": "number",
            "description": "Downside deviation focusing only on negative returns. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#downside-deviation).",
            "example": 0.042
          },
          "sd_annualized": {
            "type": "number",
            "description": "Annualized standard deviation. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#standard-deviation-annualized).",
            "example": 0.185
          },
          "sd_monthly": {
            "type": "number",
            "description": "Monthly standard deviation. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#standard-deviation-monthly).",
            "example": 0.053
          },
          "ulcer_index": {
            "type": "number",
            "description": "Ulcer Index measuring the depth and duration of drawdowns. See [methodology](/docs/ftlightning/xvigwkviktlog-v2-stats-reference#ulcer-index).",
            "example": 5.03
          }
        }
      },
      "VolumeData": {
        "type": "object",
        "properties": {
          "current": {
            "type": "number",
            "description": "Current volume (or -1 if calculation error)",
            "example": 45123000,
            "nullable": true
          },
          "average_30d": {
            "type": "number",
            "description": "30-day average volume (or -1 if calculation error)",
            "example": 52341000,
            "nullable": true
          },
          "average_90d": {
            "type": "number",
            "description": "90-day average volume (or -1 if calculation error)",
            "example": 48567000,
            "nullable": true
          }
        }
      },
      "SecurityInfoRequest": {
        "type": "object",
        "required": [
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "description": "List of assets to analyze. Can be ticker symbols or static portfolio models.",
            "items": {
              "oneOf": [
                {
                  "type": "string",
                  "description": "Simple ticker symbol",
                  "example": "AAPL"
                },
                {
                  "$ref": "#/components/schemas/StaticModel"
                }
              ]
            }
          },
          "include": {
            "type": "array",
            "description": "Data types to include in response",
            "default": [
              "details"
            ],
            "items": {
              "type": "string",
              "enum": [
                "details",
                "portfolio",
                "shareclasses",
                "attribution"
              ]
            }
          },
          "topcount": {
            "type": "string",
            "description": "Number of top holdings to return for portfolio data",
            "default": "10",
            "example": "15"
          },
          "attribution_periods": {
            "type": "array",
            "description": "Attribution analysis periods to calculate",
            "items": {
              "type": "string",
              "enum": [
                "oneyear",
                "onequarter"
              ]
            }
          }
        }
      },
      "SecurityInfoResponse": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SecurityInfoResult"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/SecurityInfoMetadata"
          }
        }
      },
      "SecurityInfoResult": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "description": {
            "type": "string",
            "description": "Asset description (for portfolio models)"
          },
          "details": {
            "$ref": "#/components/schemas/SecurityDetails"
          },
          "portfolio": {
            "$ref": "#/components/schemas/PortfolioBreakdown"
          },
          "shareclasses": {
            "$ref": "#/components/schemas/ShareClasses"
          },
          "attribution": {
            "$ref": "#/components/schemas/AttributionAnalysis"
          },
          "positiondata": {
            "type": "array",
            "description": "Individual position data for portfolio models",
            "items": {
              "$ref": "#/components/schemas/PositionData"
            }
          },
          "model": {
            "description": "Original model definition (for portfolio models)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Holding"
            }
          },
          "total": {
            "type": "string",
            "description": "Total portfolio weight (for portfolio models)",
            "example": "100.00"
          },
          "error": {
            "$ref": "#/components/schemas/ApiError"
          }
        }
      },
      "SecurityDetails": {
        "type": "object",
        "description": "Detailed security information",
        "properties": {
          "security_type": {
            "type": "string",
            "enum": [
              "Stock",
              "Mutual Fund",
              "ETF",
              "Closed End Fund",
              "Index",
              "Unknown"
            ],
            "example": "Stock"
          },
          "xtype": {
            "type": "string",
            "example": "Common Stock"
          },
          "sector": {
            "type": "string",
            "description": "Sector (stocks only)"
          },
          "exchange": {
            "type": "string",
            "description": "Exchange (stocks only)"
          },
          "country": {
            "type": "string",
            "description": "Country (stocks only)"
          },
          "industry": {
            "type": "string",
            "description": "Industry (stocks only)"
          },
          "expenseratio": {
            "type": "string",
            "description": "Expense ratio (funds only)"
          },
          "shareclass": {
            "type": "string",
            "description": "Share class (funds only)"
          },
          "family": {
            "type": "string",
            "description": "Fund family (funds only)"
          },
          "category": {
            "type": "string",
            "description": "Category (funds only)"
          },
          "objective": {
            "type": "string",
            "description": "Investment objective (funds only)"
          },
          "turnover": {
            "type": "string",
            "description": "Turnover rate (funds only)"
          },
          "expense_detail": {
            "$ref": "#/components/schemas/ExpenseDetail"
          },
          "money_market": {
            "$ref": "#/components/schemas/MoneyMarketData"
          },
          "similar": {
            "type": "array",
            "description": "Similar securities",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ExpenseDetail": {
        "type": "object",
        "properties": {
          "deferred": {
            "type": "string"
          },
          "b12": {
            "type": "string"
          },
          "frontload": {
            "type": "string"
          },
          "initpurchase": {
            "type": "string"
          },
          "redemption": {
            "type": "string"
          },
          "expense_prospectus": {
            "type": "string"
          },
          "open2new": {
            "type": "string"
          }
        }
      },
      "MoneyMarketData": {
        "type": "object",
        "properties": {
          "avg_maturity": {
            "type": "string"
          },
          "ann_yield": {
            "type": "string"
          },
          "current_yield": {
            "type": "string"
          }
        }
      },
      "PortfolioBreakdown": {
        "type": "object",
        "description": "Portfolio composition breakdown",
        "properties": {
          "assetclass": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "countries": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "region": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "sector": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "sectorBond": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "topten": {
            "$ref": "#/components/schemas/TopHoldings"
          },
          "marketcap": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "bondquality": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "expense": {
            "type": "string",
            "description": "Weighted average expense ratio"
          }
        }
      },
      "PortfolioCategory": {
        "type": "object",
        "properties": {
          "datalist": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PortfolioCategoryItem"
            }
          },
          "total": {
            "type": "string",
            "description": "Total percentage"
          },
          "note": {
            "type": "string",
            "description": "Additional information about this category"
          }
        }
      },
      "PortfolioCategoryItem": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "USEquity"
          },
          "netweight": {
            "type": "string",
            "description": "Weight as percentage string",
            "example": "65.20"
          },
          "longweight": {
            "type": "string",
            "description": "Long position weight"
          },
          "shortweight": {
            "type": "string",
            "description": "Short position weight"
          }
        }
      },
      "TopHoldings": {
        "type": "object",
        "properties": {
          "datalist": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopHolding"
            }
          },
          "total": {
            "type": "string"
          },
          "note": {
            "type": "string"
          }
        }
      },
      "TopHolding": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "netweight": {
            "type": "string",
            "example": "6.75"
          }
        }
      },
      "ShareClasses": {
        "type": "object",
        "properties": {
          "datalist": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ShareClass"
            }
          },
          "note": {
            "type": "string"
          }
        }
      },
      "ShareClass": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "shareclass": {
            "type": "string"
          },
          "expense_ratio": {
            "type": "string"
          },
          "expense_ratio_prospectus": {
            "type": "string"
          },
          "expense_12b": {
            "type": "string"
          },
          "expense_deferred": {
            "type": "string"
          },
          "expense_front": {
            "type": "string"
          },
          "initial_purchase": {
            "type": "string"
          }
        }
      },
      "AttributionAnalysis": {
        "type": "object",
        "description": "Performance and risk attribution analysis",
        "properties": {
          "performance": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/PerformanceAttribution"
              }
            }
          },
          "risk": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/RiskAttribution"
              }
            }
          },
          "error": {
            "$ref": "#/components/schemas/ApiError"
          }
        }
      },
      "PerformanceAttribution": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "weight": {
            "type": "string",
            "example": "25.0"
          },
          "returnContribution": {
            "type": "number",
            "description": "Contribution to total portfolio return",
            "example": 2.15
          },
          "percentReturnContribution": {
            "type": "number",
            "description": "Percentage of total return contribution",
            "example": 35.8
          }
        }
      },
      "RiskAttribution": {
        "type": "object",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "name": {
            "type": "string",
            "example": "Apple Inc"
          },
          "weight": {
            "type": "string",
            "example": "25.0"
          },
          "riskContribution": {
            "type": "number",
            "description": "Contribution to total portfolio risk",
            "example": 0.045
          },
          "percentRiskContribution": {
            "type": "number",
            "description": "Percentage of total risk contribution",
            "example": 28.3
          }
        }
      },
      "PositionData": {
        "type": "object",
        "description": "Individual position data within a portfolio model",
        "properties": {
          "ticker": {
            "type": "string",
            "example": "AAPL"
          },
          "weight": {
            "type": "string",
            "example": "25.0"
          },
          "expense": {
            "type": "string",
            "description": "Expense ratio"
          },
          "topten": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "assetclass": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "region": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "countries": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "sector": {
            "$ref": "#/components/schemas/PortfolioCategory"
          },
          "sectorBond": {
            "$ref": "#/components/schemas/PortfolioCategory"
          }
        }
      },
      "SecurityInfoMetadata": {
        "type": "object",
        "properties": {
          "total_assets": {
            "type": "integer",
            "description": "Number of assets processed",
            "example": 3
          },
          "calculation_time_ms": {
            "type": "integer",
            "description": "Processing time in milliseconds",
            "example": 1250
          }
        }
      }
    },
    "securitySchemes": {
      "Authorization": {
        "type": "http",
        "scheme": "bearer",
        "description": ""
      }
    }
  },
  "servers": [
    {
      "url": "https://api.fasttrack.net/v2",
      "description": ""
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "Login with credentials to obtain access tokens, refresh as needed"
    },
    {
      "name": "Market Data",
      "description": "Operations related to market data"
    },
    {
      "name": "Reference",
      "description": "Operations related to statistic and return data"
    },
    {
      "name": "Returns & Statistics",
      "description": "Operations related to statistic and return data"
    }
  ],
  "security": [
    {
      "Authorization": []
    }
  ]
}